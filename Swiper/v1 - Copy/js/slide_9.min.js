$(document).ready((function(){var headings_=headings.split("|"),attributesColumn=attributes.split("~"),StopLastCard="",TotlcardLen=precode.split("|").length,precode_=precode.split("|"),removeOrder=[],containerOrder=[],containerSwiped=[],counter=1,selectedEl="";$("body").append("<div class='cloned-div' style='display:none;'></div>"),$(".qdiv").html(questionArr.split("|")[0]),headings_.forEach((function(element,index){var attrValues=attributesColumn[index].split("&&"),rowline="";attrValues.forEach((function(el,index){var elLeft=el.split("|")[0],elRght=el.split("|")[1];rowline=rowline+'<div class="rowline"><div class="left-attr">'+elLeft+'</div><div class="right-attr">'+elRght+"</div></div>"})),$(".cloned-div").append('        <div class="inner-block-outer"  card-num = '+precode_[index]+" data-precode="+precode_[index]+'>        <div class="inner-block">                    <div class="headline">'+headings_[index]+"</div>                "+rowline+"            </div>        </div>        ")})),$(".swipe-left").append('  <svg xmlns="http://www.w3.org/2000/svg" width="100" height="60" viewBox="0 0 34 60">    <g id="down_outline_icon" transform="translate(0 60) rotate(-90)">      <path id="Path_11757" data-name="Path 11757" d="M53.352,31H6.648L30,4.534Z" fill="#fff"/>      <path id="Path_11758" data-name="Path 11758" d="M30,9.069,13.3,28H46.7L30,9.069M30,0,60,34H0Z" fill="#ee1f1d"/>    </g>  </svg>'),$(".swipe-right").append(' <svg xmlns="http://www.w3.org/2000/svg" width="100" height="60" viewBox="0 0 34 60">    <g id="up_outline_icon" transform="translate(34) rotate(90)">    <path id="Path_11755" data-name="Path 11755" d="M53.352,31H6.648L30,4.534Z" fill="#fff"/>    <path id="Path_11756" data-name="Path 11756" d="M30,9.069,13.3,28H46.7L30,9.069M30,0,60,34H0Z" fill="#92d050"/>    </g>  </svg>');var clonedDiv=$("[card-num = "+precode_[0]+"]").clone();function moveElement(el,moveHeight){var slctConter;$(el).find(".inner-block-outer").css("left",moveHeight+"px")}function revertElement(el){var slctConter;$(el).find(".inner-block-outer").animate({left:"0px"},100,"linear")}function downHandler(el,swipeDir){showreloadBlock();var slctConter=el;containerOrder.push(slctConter);var attri=$(slctConter).find(".inner-block-outer").attr("card-num");function getNextCard(){if($(slctConter).find(".inner-block-outer").remove(),removeOrder.push(attri),null!=precode_[counter]){var clonedDiv=$("[card-num="+precode_[counter]+"]").clone();$(slctConter).append(clonedDiv),$(slctConter).find(clonedDiv).addClass("tansform"),setTimeout((function(){$(".tansform").addClass("tansformComplete")}),100),setTimeout((function(){$(".tansform").removeClass("tansform tansformComplete"),hidereloadBlock()}),500),counter++}else counter++,$(slctConter).hide(0),hidereloadBlock();getOutput()}"up"==swipeDir?($(".swipe-left").addClass("filled-up"),setTimeout((function(){$(".swipe-left").removeClass("filled-up")}),500),containerSwiped.push("up"),$(slctConter).find(".inner-block-outer").addClass("rel").animate({left:"-500px"},500,"linear",getNextCard)):(containerSwiped.push("down"),$(".swipe-right").addClass("filled-down"),setTimeout((function(){$(".swipe-right").removeClass("filled-down")}),500),$(slctConter).find(".inner-block-outer").addClass("rel").animate({left:"500px"},500,"linear",getNextCard))}function getOutput(){for(var outputArr=[],positionArr=removeOrder,precodeLen=precode_.length,j=0;j<precode_.length;j++){var decreseBy1=positionArr[j]-1;NaN!=decreseBy1&&(outputArr[decreseBy1]=precodeLen,precodeLen--)}var outputArrTen=outputArr.filter(Boolean);if((StopLastCard=outputArrTen.length)==precode_.length-1)for(var i=0;i<precode_.length;i++){var indexNumber=precode_[i]-1;null==outputArr[indexNumber]&&(outputArr[indexNumber]="1")}var contrseqArr=[];containerOrder.forEach((function(el){contrseqArr.push($(el).attr("data-col"))}));var pokerBallArr=[];$(".poker-col").each((function(){pokerBallArr.push($(this).find(".inner-block-outer").attr("data-precode"))})),output(outputArr,contrseqArr,containerSwiped,pokerBallArr,removeOrder,StopLastCard),cardmove(containerSwiped),hideNavigatior()}function hidereloadBlock(){$(".reload-block-cover").hide(0),$(".remove-touch-div").hide(0)}function showreloadBlock(){$(".reload-block-cover").show(0),$(".remove-touch-div").show(0)}if($("[data-col = 1]").append(clonedDiv),$(".poker-contaner").append("<div class='remove-touch-div'></div>"),$(".touchsurface").each((function(index,el){swipedetect(el,(function(swipedir){if(1==swipeAll)StopLastCard==TotlcardLen-1&&"selectEL"!=swipedir&&"revertBack"!=swipedir&&"FromDocument_revertBack"!=swipedir&&-1==swipedir.indexOf("moveFunction")&&setTimeout((function(){$(".poker-container-inner").addClass("hidecard")}),500);else if(StopLastCard==TotlcardLen-1)return!1;"up"!=swipedir&&"FromDocument_up"!=swipedir||(downHandler(selectedEl,"up"),$(".left_card").append('<div class="card_image"></div>')),"down"!=swipedir&&"FromDocument_down"!=swipedir||downHandler(selectedEl,"down"),-1!=swipedir.indexOf("moveFunction")&&moveElement(selectedEl,swipedir.split("_")[1]),"revertBack"!=swipedir&&"FromDocument_revertBack"!=swipedir||revertElement(selectedEl),"selectEL"==swipedir&&(selectedEl=el)}))})),$(".touchsurface").each((function(index,el){mouseDetect(el,(function(swipedir){if(1==swipeAll)StopLastCard==TotlcardLen-1&&"selectEL"!=swipedir&&"revertBack"!=swipedir&&"FromDocument_revertBack"!=swipedir&&-1==swipedir.indexOf("moveFunction")&&setTimeout((function(){$(".poker-container-inner").addClass("hidecard")}),500);else if(StopLastCard==TotlcardLen-1)return!1;"up"!=swipedir&&"FromDocument_up"!=swipedir||downHandler(selectedEl,"up"),"down"!=swipedir&&"FromDocument_down"!=swipedir||downHandler(selectedEl,"down"),-1!=swipedir.indexOf("moveFunction")&&moveElement(selectedEl,swipedir.split("_")[1]),"revertBack"!=swipedir&&"FromDocument_revertBack"!=swipedir||revertElement(selectedEl),"selectEL"==swipedir&&(selectedEl=el)}))})),selectedEl=$(".poker-col.touchsurface")[0],$(".swipe-left").click((function(){if($(".swipe-left").addClass("filled-up"),setTimeout((function(){$(".swipe-left").removeClass("filled-up")}),500),1==swipeAll)StopLastCard==TotlcardLen-1&&setTimeout((function(){$(".poker-container-inner").addClass("hidecard")}),500);else if(StopLastCard==TotlcardLen-1)return!1;downHandler(selectedEl,"up")})),$(".swipe-right").click((function(){if($(".swipe-right").addClass("filled-down"),setTimeout((function(){$(".swipe-right").removeClass("filled-down")}),500),1==swipeAll)StopLastCard==TotlcardLen-1&&setTimeout((function(){$(".poker-container-inner").addClass("hidecard")}),500);else if(StopLastCard==TotlcardLen-1)return!1;downHandler(selectedEl,"down")})),$(".reload-block").click((function(){if(""==removeOrder)return!1;{setTimeout((function(){$(".poker-container-inner").removeClass("hidecard")}),500),$(".reload-block").removeClass("reload-block").addClass("reload-block-again"),showreloadBlock();var lastAttr=removeOrder[removeOrder.length-1],lastContainer=containerOrder[containerOrder.length-1],containerSwipe=containerSwiped[containerSwiped.length-1],clonedDiv=$("[card-num="+lastAttr+"]").clone();function showCard(){$(lastContainer).find(".inner-block-outer").animate({left:"0px"},500,"linear",popAll)}function popAll(){containerOrder.pop(),containerSwiped.pop(),getOutput(),hidereloadBlock(),$(".reload-block-again").removeClass("reload-block-again").addClass("reload-block")}counter--,$(lastContainer).show(0),removeOrder.pop(),setTimeout((function(){$(lastContainer).find(".inner-block-outer").addClass("revertTransform")}),100),setTimeout((function(){$(lastContainer).find(".inner-block-outer").addClass("revertTransformComplete")}),500),"up"==containerSwipe?(setTimeout((function(){$(lastContainer).empty(),$(lastContainer).append(clonedDiv).find(".inner-block-outer").css("left","-500px")}),1e3),setTimeout((function(){showCard()}),1100)):(setTimeout((function(){$(lastContainer).empty(),$(lastContainer).append(clonedDiv).find(".inner-block-outer").css("left","500px")}),1e3),setTimeout((function(){showCard()}),1100))}})),1==backbutton||"true"==backbutton){output(outputArr,contrOrdrArr,contSwipeOrdr,currentLook,removeOrdr,seqCounter),cardmove(contSwipeOrdr,removeOrdr),removeOrder=removeOrdr.split(","),containerSwiped=contSwipeOrdr.split(","),counter=parseInt(seqCounter)+1,(StopLastCard=seqCounter)==TotlcardLen&&$(".poker-container-inner").addClass("hidecard");var contrOrdr=[],currentLookArr;contrOrdrArr.split(",").forEach((function(el){var element;1==el?element=$("[data-col = 1]"):2==el?element=$("[data-col = 2]"):3==el&&(element=$("[data-col = 3]")),contrOrdr.push(element)})),containerOrder=contrOrdr,$("[data-col]").empty().hide(0),currentLook.split(",").forEach((function(el,index){if(""!=el){$("[data-col="+[index+1]+"]").show(0);var clonedDiv=$("[data-precode = "+el+"]").clone();$("[data-col="+[index+1]+"]").append(clonedDiv)}})),hideNavigatior()}function cardmove(containerSwiped,removeOrder){var numbersArray,numbersString=new Array(containerSwiped).join(","),content="";content=1==backbutton||"true"==backbutton?numbersString.split(","):containerSwiped,$(".left_card").empty(),$(".right_card").empty(),content.forEach((function(element,index){"up"==element?$(".left_card").append('<div class="card_image" ></div>'):"down"==element&&$(".right_card").append('<div class="card_image" ></div>')}))}function hideNavigatior(){0==swipeAll?counter==TotlcardLen?($(".swipe-left").hide(),$(".swipe-right").hide()):($(".swipe-left").show(),$(".swipe-right").show()):counter>TotlcardLen?($(".swipe-left").hide(),$(".swipe-right").hide()):($(".swipe-left").show(),$(".swipe-right").show())}for(var i=0;i<precode_.length;i++)$("body").append("          <style>              .right_card .card_image:nth-child("+[i+2]+"),              .left_card .card_image:nth-child("+[i+2]+") {                  bottom: "+[6*(i+1)]+"px;              }              @media all and (min-width:320px) and (max-width:767px){                  .right_card .card_image:nth-child("+[i+2]+"),                  .left_card .card_image:nth-child("+[i+2]+") {                      bottom: "+[2*i-89]+"px;                  }              }          </style>      ")}));
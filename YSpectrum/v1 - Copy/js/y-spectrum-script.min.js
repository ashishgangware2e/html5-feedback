$(document).ready((function(){statmentStrArr=statmentStr.split("|"),StatmentCodeArr=StatmentCode.split("|");var topCountStrArr=topCountStr.split("|");zindex=StatmentCodeArr.length;var flagCount=0;flagParaCount=1;var outputarr=[],backOutputarr=[];$(".toolWapper").html('<div class="target-row stmt-row clearfix"><div class="setMiddle"><div class="blockElments margin_bottom" id="countdownList"> </div><div class="blockElments" id="statmentText"></div></div></div><div class="target-row drp-zone clearfix"><div class="bottomRightNegative">'+legentText[1]+'</div><div class="toTarget y-axis"><div class="midset clearfix"><div class="clickableArea"><div class="bdr-clr"></div></div></div></div><div class="clearAll"></div><div class="BottomleftPosetive">'+legentText[0]+"</div></div>"),$("#countdownList").html('<div class="countBox">'+topCountStrArr[0]+" 1 "+topCountStrArr[1]+" "+StatmentCodeArr.length+"<div>");for(var i=0;i<statmentStrArr.length;i++)$("#statmentText").append('<div class="borderBox" data-index="'+i+'" id="movetext_'+StatmentCodeArr[i]+'" style="z-index:'+zindex+'">'+statmentStrArr[i]+"</div>"),zindex-=1;var ends=!0;function changeoutput(output){return 100==output&&(output=99),output}function findPercentage(vals,outof){return vals/outof*100}if($(".clickableArea, .bdr-clr").bind("click",(function(e){if(e.target===this){if(0==!$(".borderBox").length&&1==ends){1!=backpunch&&(ends=!1);var offsetParent=$(".borderBox:first").offset(),offsetParentWidth=$(".borderBox:first").width()/2,offsetParentX=e.pageX-(offsetParent.left+offsetParentWidth),offsetParentY=e.pageY-offsetParent.top,offst=$(this).offset(),toppos=e.pageY-parseInt(offst.top),currentStatementdata=$(".borderBox:first").attr("id").split("_")[1],cindeData=$(".borderBox:first").attr("data-index"),currentStatementText=$(".borderBox:first").text(),dropedArea=$(".clickableArea").height(),output=Number(0)+Number(Math.round(100/dropedArea*toppos));output=changeoutput(output);var topPrcntNew=Number(0)+Number(Math.round(100/dropedArea*(toppos-9))),backOutput=topPrcntNew;$(".clickableArea").append('<div class="knob" data-index="'+flagCount+'" data-drag="'+currentStatementdata+'" title="'+currentStatementText+'" style="left:-12px;top:'+topPrcntNew+'%"><div class="strRotate"> <span class="current_text">'+currentStatementText+"</span></div></div>"),1!=backpunch?$(".borderBox:first").animate({left:offsetParentX,top:offsetParentY,opacity:0},500,(function(){$(".borderBox:first").remove()})):$(".borderBox:first").remove(),flagCount+=1,flagParaCount+=1,flagParaCount>=statmentStrArr.length+1&&$("#countdownList").remove(),$("#countdownList").html('<div class="countBox">'+topCountStrArr[0]+" "+flagParaCount+" "+topCountStrArr[1]+" "+statmentStrArr.length+"<div>"),outputarr[cindeData]=100-output,backOutputarr[cindeData]=backOutput.toFixed(2),outputValues(outputarr,backOutputarr),setTimeout((function(){ends=!0}),500),e.preventDefault()}$(".knob").draggable({containment:".toTarget",axis:"y",drag:function(event,ui){var curntIndex=$(this).attr("data-index"),dropedArea=$(".clickableArea").height(),toppos=$(this).position().top,output=Number(0)+Number(Math.round(100/dropedArea*(toppos+9)));output=changeoutput(output),outputarr[curntIndex]=100-output,backOutputarr[curntIndex]=toppos.toFixed(2),outputValues(outputarr,backOutputarr)},stop:function(event,ui){var l=100*parseFloat($(this).position().left/parseFloat($(this).parent().width()))+"%",t=100*parseFloat($(this).position().top/parseFloat($(this).parent().height()))+"%";$(this).css("left",l),$(this).css("top",t);var curntIndex=$(this).attr("data-index"),dropedArea=$(".clickableArea").height(),toppos=$(this).position().top,output=Number(0)+Number(Math.round(100/dropedArea*(toppos+9)));output=changeoutput(output),outputarr[curntIndex]=100-output,backOutputarr[curntIndex]=Number(t.split("%")[0]).toFixed(2),outputValues(outputarr,backOutputarr)}})}})),1==backpunch){var outPutVal_=outputVal.split("|"),backpunchVal_=backpunchVal.split("|");outPutVal_.forEach((function(e,i){$(".clickableArea").click(),$("[data-drag="+StatmentCodeArr[i]+"]").css("top",backpunchVal_[i]+"%"),outputarr[i]=e,backOutputarr[i]=backpunchVal_[i],outputValues(outputarr,backOutputarr)}))}function height(){$(".borderBox").height("auto");var h=0;$(".borderBox").each((function(){var ch=$(this).height();h<ch&&(h=ch)})),$(".borderBox").height(h)}height(),$(window).resize((function(){height()}))}));
$(document).ready((function(){var outputArray=[],dragAttr=dragAttrclr.split("|"),globaldefault,timer,t;function init(dragAttrclr,defaultpos,totalTime){globaldefault=defaultpos;for(var dibs="",i=0;i<dragAttr.length;i++)dragAttr.length;var couontdown,timeblock,labeltxt='<div class="ratetextLeft">Not at all motivating</div><div class="ratetextRight">Extremely motivating</div>',ratscle='<div class="rateScal">&nbsp;</div>',popup,str='<div class="toolContaner timer-section">'+('<div class="TimeBlock" id="startBtn"><span>'+strt+'</span></div><div class="TimeBlock" id="stopBtn"><span>'+stp+"</span></div>")+'</div><div class="toolContaner clock-timer">'+'<div class="clockdiv"><span class="days" style="display:none;">00</span><span class="hours" style="display:none;">00</span><span id="min" class="minutes">00</span>:<span class="seconds" id="sec">00</span></div>'+'</div><div class="popuplayer" id="popuplayer"><div class="popup"><p class="ppuptxt">'+popuptxt+'</p><div class="mainbbtn"><div class="confirm_btn" id="kbtn">OK</div><div class="confirm_btn" id="okbtn">Yes</div><div class="confirm_btn pading" id="cnlbtn">No</div></div></div></div>'+'<div class="toolContaner rating-section" ><div class="ratetextLeft">'+optionText.split("|")[0]+'</div><div class="ratetextRight">'+optionText.split("|")[1]+'</div><div class="RatingSlider"></div><div class="masklayer" id="masklayer"></div></div>';$(".mainWaper").html(str),setboxShadow(),$("#startBtn").show(),$("#stopBtn,#popuplayer,#forwardbutton,#kbtn").hide(),$(".popuplayer").css("height",$(".mainWaper").css("height"))}function setboxShadow(){$("li").removeClass("boxshdow"),$("li:nth-child("+globaldefault+")").addClass("boxshdow")}function popupshow(){$("#popuplayer,#masklayer").show()}function getTimeRemaining(endtime){var t=Date.parse(endtime)-Date.parse(new Date),seconds=Math.floor(t/1e3%60),minutes=Math.floor(t/1e3/60%60),hours=Math.floor(t/36e5%24),days;return{total:t,days:Math.floor(t/864e5),hours:hours,minutes:minutes,seconds:seconds}}function initializeClock(id,endtime){function updateClock(){t=getTimeRemaining(endtime),$(".days").html(t.days),$(".hours").html(("0"+t.hours).slice(-2)),$(".minutes").html(("0"+t.minutes).slice(-2)),$(".seconds").html(("0"+t.seconds).slice(-2)),t.total<=0&&clearInterval(timeinterval)}updateClock();var timeinterval=setInterval(updateClock,1e3)}init(dragAttrclr,defaultpos,totalTime),$("#startBtn").click((function(){$("#startBtn,#masklayer").hide(),$("#stopBtn").show(),$("#min").text()>=totalTime&&(clearInterval(timer),$("#stopBtn").css("opacity","0.0"),$(".popup").hide(),$("#forwardbutton,#popuplayer,#masklayer").show()),Clock.start()})),$("#okbtn").click((function(){$(".ppuptxt").html(finishmsg),$(".popup p").css("margin-bottom","20px"),$("#okbtn,.clockdiv,#cnlbtn").hide(),$("#forwardbutton,#kbtn").show(),$("#stopBtn").css("opacity","0.0"),clearInterval(timer)})),$("#cnlbtn").click((function(){Clock.resume(),$("#popuplayer,#masklayer").hide()})),$("#stopBtn").click((function(){popupshow(),Clock.pause()})),$("#kbtn").click((function(){$(".popup").hide()}));var Clock={totalSeconds:0,start:function(){var self=this;function pad(val){return val>9?val:"0"+val}this.interval=setInterval((function(){outputArray.push(parseInt(self.totalSeconds)+":"+globaldefault),outputValues(outputArray.toString(),globaldefault),self.totalSeconds+=1,$("#min").text(pad(Math.floor(self.totalSeconds/60%60))),$("#sec").text(pad(parseInt(self.totalSeconds%60))),$("#min").text()>=totalTime&&(Clock.pause(),$("#stopBtn").css("opacity","0.0"),$(".ppuptxt").html(finishmsg),$(".popup p").css("margin-bottom","20px"),$(".popup,#kbtn").show(),$("#okbtn,#cnlbtn,.clockdiv").hide(),$("#forwardbutton,#popuplayer,#masklayer").show())}),1e3)},pause:function(){clearInterval(this.interval),delete this.interval},resume:function(){this.interval||this.start()}};$((function(){$(".RatingSlider").slider({min:1,max:7,value:defaultpos,step:1,animate:!0,change:function(event,ui){globaldefault=ui.value}}).slider("pips",{rest:"label"}),$(".ui-slider-pip-1 .ui-slider-label").css("background","").html(" "),$(".ui-slider-pip-2 .ui-slider-label").css("background","").html(" "),$(".ui-slider-pip-3 .ui-slider-label").css("background","").html(" "),$(".ui-slider-pip-4 .ui-slider-label").css("background","").html(" "),$(".ui-slider-pip-5 .ui-slider-label").css("background","").html(" "),$(".ui-slider-pip-6 .ui-slider-label").css("background","").html(" "),$(".ui-slider-pip-7 .ui-slider-label").css("background","").html(" ")}))}));
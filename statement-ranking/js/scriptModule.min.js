$(document).ready((function(){var statementArr=statementStr.split("|"),indxArr=createIndxArr(statementArr.length);if(parseInt(randomization))var shuffledArray=shuffleArray(statementArr,indxArr);var output=[];$(".mainwaper").html('<div class="rangetextBlock"><div class="leftBlock"><div class="improve_range"><span style="color:'+labelColor+"; font-size:"+labelFontSize+'px;">Statements</span></div></div><div class="rightBlock"><div class="improve_range"><span style="color:'+labelColor+"; font-size:"+labelFontSize+'px;">Dropable Area</span></div></div></div><div class ="draggablebox"><ul> </ul></div><div class="midarrowBlock"><span><img src="images/drag.png" alt=""></span></div><div class = "droppableBox"><ul> </ul></div><div class="clearAll"></div>');for(var i=0;i<statementArr.length;i++)$(".draggablebox > ul").append('<li id="'+indxArr[i]+'" class="dragList ui-draggable" data-info="1"><span style="color:'+statementColor+"; font-size:"+StatementFontSize+'px;">'+statementArr[i]+"</span></li>"),$(".droppableBox > ul").append('<li><div class="dropedBlock" id="'+(i+1)+'" data-info="1"><div class="dropRightIndex"><span>'+(i+1)+"</span></div></div></li>"),output.push(" ");var midHeight=$(".draggablebox").height();function shuffleArray(array,indxd){for(var counter=array.length,temp,index,temp2;counter>0;)index=Math.floor(Math.random()*counter),temp=array[--counter],array[counter]=array[index],array[index]=temp,temp2=indxd[counter],indxd[counter]=indxd[index],indxd[index]=temp2}function createIndxArr(cnt){for(var arr=[],i=0;i<cnt;i++)arr.push(i+1);return arr}function outputValues(){outputValue(output)}$(".midarrowBlock").css({height:midHeight-32+"px"}),$(".dragList").draggable({containment:"#content",revert:"invalid",snap:".selector",snapMode:"inner",snapTolerance:30,stack:".dragList",scroll:!1,revert:function(event,ui){return $(this).addClass("selected"),$(this).data("draggable").originalPosition={top:0,left:0},!event}}),$(".dropedBlock").data("outside",1).droppable({connectWith:".points",cursor:"pointer"}).droppable({accept:".dragList",greedy:!0,drop:function(event,ui){$(this).droppable("option","accept",ui.draggable);var dragabbleId=ui.draggable[0].id,droppableValue=$(this)[0].id;output[ui.draggable[0].id-1]=droppableValue,outputValues();var drop_el=$(this).offset(),drag_el=ui.draggable.offset(),left_end=drop_el.left+$(this).width()/2-(drag_el.left+ui.draggable.width()/2),top_end=drop_el.top+$(this).height()/2-(drag_el.top+ui.draggable.height()/2);ui.draggable.animate({top:"+="+top_end,left:"+="+(left_end-12)})},out:function(event,ui){$(this).droppable("option","accept",".dragList"),output[ui.draggable[0].id-1]=0,outputValues()}})}));
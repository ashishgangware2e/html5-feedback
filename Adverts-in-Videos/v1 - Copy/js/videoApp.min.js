var ourArr=[],prvValVideo,currentValVideo,videos=document.querySelectorAll("video"),behavior=document.querySelector("#behavior"),currentId=defaultrate,recordVal=[],minutes,clickValue=0;if(1==optionshow)var rateOption='<div class="ratingElement opacity01 emoticons01 op ratingIcon" data-info="e1"><div class="emo-1 emo"></div></div> \t<div class="ratingElement opacity02 emoticons02 op ratingIcon" data-info="e2"><div class="emo-2 emo"></div></div> \t<div class="ratingElement opacity03 emoticons03 op ratingIcon" data-info="e3"><div class="emo-3 emo"></div></div> \t<div class="ratingElement opacity04 emoticons04 op ratingIcon" data-info="e4"><div class="emo-4 emo"></div></div> \t<div class="ratingElement opacity05 emoticons05 op ratingIcon" data-info="e5"><div class="emo-5 emo"></div></div> \t<div class="ratingElement opacity06 emoticons06 op ratingIcon" data-info="e6"><div class="emo-6 emo"></div></div> \t<div class="ratingElement opacity07 emoticons07 op ratingIcon" data-info="e7"><div class="emo-7 emo"></div></div>';else var rateOption='<div class="ratingElement emoticons01 op opacity01 ratingIcon" data-info="e1"><div class="emo-1 emo"></div></div> <div class="ratingIcon" data-info="e2"></div> <div class="ratingIcon" data-info="e3"></div> <div class="ratingElement emoticons04 op opacity04 ratingIcon" data-info="e4"><div class="emo-4 emo"></div></div> <div class="ratingIcon" data-info="e5"></div> <div class="ratingIcon" data-info="e6"></div> <div class="ratingElement emoticons07 op opacity07 ratingIcon" data-info="e7"><div class="emo-7 emo"></div></div>';function enableButtons(video){var vid=document.getElementById("ratingVideo"),playBtn=video.parentNode.querySelector(".play"),fullscreenButton=video.parentNode.querySelector(".fullscreen");playBtn&&playBtn.addEventListener("click",(function(){vid.paused?(vid.pause(),vid.play(),$(".play").hide(),prvValVideo=1,$(".emoticons0"+currentId).css("opacity","0.4")):vid.pause()})),fullscreenButton&&fullscreenButton.addEventListener("click",(function(){video.webkitEnterFullScreen()}))}function intializePlayer(){video=document.getElementById("ratingVideo"),playbtn=document.getElementById("playpausebtn"),curtimetext=document.getElementById("curtimetext"),durtimetext=document.getElementById("durtimetext"),video.addEventListener("timeupdate",seektimeupdate,!0)}function seektimeupdate(){var curmins=Math.floor(video.currentTime/60),cursecs=Math.floor(video.currentTime-60*curmins),durmins=Math.floor(video.duration/60),dursecs=Math.floor(video.duration-60*durmins);cursecs<10&&(cursecs="0"+cursecs),dursecs<10&&(dursecs="0"+dursecs),curmins<10&&(curmins="0"+curmins),durmins<10&&(durmins="0"+durmins),curtimetext.innerHTML=curmins+":"+cursecs,durtimetext.innerHTML=durmins+":"+dursecs}function debugEvents(video){["loadstart","progress","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","timeupdate","play","pause","webkitbeginfullscreen","webkitendfullscreen"].forEach((function(event){video.addEventListener(event,(function(){}))}))}function enableVideos(everywhere){for(var i=0;i<videos.length;i++)window.makeVideoPlayableInline(videos[i],!videos[i].hasAttribute("muted"),!everywhere),enableButtons(videos[i]),debugEvents(videos[i])}function ratingVideo(){$(".ratingElement").unbind("click").bind("click",(function(evt){clickValue=1,$("#clickval").val("1"),$(".ratingElement").removeAttr("style"),currentId=$(this).attr("data-info").split("e")[1];var ratingVideo=$("#ratingVideo");currentValVideo=ratingVideo.get(0).currentTime.toFixed(0),prvValVideo!==currentValVideo&&($(".ratingElement").removeClass("active"),$(".opacity0"+currentId).addClass("active"),prvValVideo=currentValVideo,ourArr.push(currentValVideo+":"+currentId))}))}"?enabled=false"===location.search?behavior.innerHTML="(module disabled everywhere via <code>?enabled=false</code>":"?enabled=true"===location.search?(enableVideos(!0),behavior.innerHTML="(module enabled everywhere (whether itâ€™s necessary or not) via <code>?enabled=true</code>)"):enableVideos(),window.addEventListener("load",(function(){var videoloadS=document.querySelector("#ratingVideo");function checkLoad(){4===videoloadS.readyState||setTimeout(checkLoad,100)}checkLoad()}),!1),window.onload=intializePlayer,$(".ratingBlock").html(rateOption),$("#ratingVideo").on("ended",(function(){$("#EndData").val("1"),$("#ratingVideo , .ratingElement ").addClass("op"),1==clickValue?$(".play").hide():$(".play").show(),setTimeout((function(){1==$("#EndData").val()&&1==$("#clickval").val()?$("#forwardbutton").show():$(".errormsg").show()}),500),""==ourArr&&($(".play").show(),ourArr=[])})),$("#ratingVideo").on("play",(function(){ourArr=[],recordVal=[],ratingVideo(),$("#ratingVideo, .ratingElement ").removeClass("op"),$(".errormsg").hide(),$(".ratingElement").removeAttr("style"),$("#EndData").val("0"),$("#clickval").val("0"),clickValue=0,currentId=defaultrate,$(".emoticons0"+currentId).addClass("active")})),$((function(){var timeout;function performaction(currentTime,duration){recordVal.push(currentTime+":"+currentId),recoreddata(recordVal);var vid=document.getElementById("ratingVideo");vid.ontimeupdate=function(){var percentage=vid.currentTime/vid.duration*100;$("#custom-seekbar span").css("width",percentage+"%")}}$(".errormsg").hide(),$("#ratingVideo").on("playing pause",(function(e){var v=this;clearTimeout(timeout),minutesN=v.currentTime.toString().split(".")[0],performaction(minutesN,v.duration),"playing"===e.type&&setTimeout((function(){timeout=setInterval((function(){performaction(minutes=v.currentTime.toString().split(".")[0],v.duration)}),1e3)}),100)}))}));
//# sourceMappingURL=videoApp.min.js.map